# Darwin

Flexible genetic algorithm implementation in TypeScript.

## Installation

```bash
npm install darwinjs
```

Darwin is compatible with ES6 modules

### Demos

- [Smart Eaters](https://nathsou.github.io/Darwin/Demos/SmartEaters/) inspired by [Mat Buckland](http://www.ai-junkie.com/ann/evolved/nnt1.html)
- [Typing Monkeys](https://nathsou.github.io/Darwin/Demos/TypingMonkeys/) inspired by [Daniel Shiffman](http://natureofcode.com/book/chapter-9-the-evolution-of-code/)
- [Traveling Salesman](https://nathsou.github.io/Darwin/Demos/TravelingSalesman/)

## Usage

One must first choose a way of encoding the desired behavior as an array of some type (a chromosome) and of evaluating the fitness of any such chromosome.

For instance the 'Typing Monkeys' demo tries to evolve towards a target string, the fitness is simply the number of correct characters present in the randomly generated string.

On the other hand, the 'Smart Eaters' demo evolves the weights and biases of an artificial neural network, the fitness of an 'Eater' is the number of nutriments it eats in one generation (2000 ticks).

```typescript
  const genetics = new Darwin<T>({
    population_size: number,
    chromosome_length: number,
    rand_func: () => T,
    crossover_rate?: number,
    mutation_rate?: number,
    crossover_method?: CrossoverMethod | CustomCrossoverMethod<T>,
    mutation_method?: MutationMethod | CustomMutationMethod<T>,
    elite_count?: number,
    elite_copies?: number
  });
```

The constructor of the Darwin class initializes a population of random chromosomes, we can now assign a score (or fitness) to each of those chromosomes based on their genes (Chromosome<T>.getBits()):

```typescript
  for (let chromo of genetics.getPopulation())Â {
    chromo.setFitness(...);
  }

  // or :

  genetics.updateFitness(chromo => computeFitnessInSomeWay(chromo));
```

A new generation can then be generated by calling the mate() method:

```typescript
  genetics.mate();
```

To observe the evolution of the population, one can call:

```typescript
  const avg = genetics.getAverageFitness();
  const max = genetics.getFittest().getFitness();
```
